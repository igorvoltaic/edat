{% load static %}

{% block dataset_render %}
<script type="text/x-template" id="dataset-render-template">
    <div id="home-container" class="ui container">
        <div class="dataset-render-header">
            <h1>[[ datasetInfo.name ]]</h1>
            <img v-if="plotImgPath" :src="plotImgPath">
        </div>
        <div class="ui simple selection dropdown column-name-dropdown">
            <input type="hidden" name="y_axis">
            <i class="dropdown icon"></i>
            <div class="default text">Y-axis</div>
            <div class="menu">
                <div 
                v-for="name in datasetInfo.column_names" 
                v-if="name.length > 0" 
                class="item" 
                @click="selectItem($event, name)"
                :fieldname="name">[[ name ]]</div>
            </div>
        </div>
        <div class="ui simple selection dropdown column-name-dropdown">
            <input type="hidden" name="x_axis">
            <i class="dropdown icon"></i>
            <div class="default text">X-axis</div>
            <div class="menu">
                <div 
                v-for="name in datasetInfo.column_names" 
                v-if="name.length > 0" 
                class="item" 
                @click="selectItem($event, name)"
                :fieldname="name">[[ name ]]</div>
            </div>
        </div>
        <button @click="renderDataset" class="ui button green" type="submit">Render</button>
		<div id="data-table" class="ui container">
			<table class="ui celled striped table">
				<thead>
                    <tr>
						<th v-for="column_name in datasetInfo.column_names" 
                         class="center aligned">[[ column_name ]]</th> 
					</tr> 
                    <tr>
						<th v-for="column_type in datasetInfo.column_types" 
                         class="center aligned">[[ column_type ]]</th> 
					</tr> 
				</thead>
			    <tbody>
                    <dataset-editor-datarow
                     v-for="row in rows" :key="row.index" :data="row">
					</dataset-editor-datarow>
			  </tbody>
			</table>
		</div>
    </div>
</script>
{% endblock %}
